% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/acp.R
\name{putior_acp_server}
\alias{putior_acp_server}
\title{Start putior ACP Server}
\usage{
putior_acp_server(host = "127.0.0.1", port = 8080L)
}
\arguments{
\item{host}{Character string specifying the host address.
Default: "127.0.0.1" (localhost only)}

\item{port}{Integer specifying the port number.
Default: 8080}
}
\value{
This function does not return; it runs the server until terminated.
}
\description{
Starts an ACP (Agent Communication Protocol) REST server that exposes
putior as an agent that other AI agents can discover and call.
}
\details{
The ACP server exposes the following endpoints:
\describe{
\item{GET /agents}{Returns the agent manifest for discovery}
\item{POST /runs}{Execute a putior operation}
\item{GET /runs/:run_id}{Get the status/result of a previous run}
}
}
\section{Message Format}{

POST /runs expects a JSON body with this structure:
\preformatted{
{
  "input": [
    {
      "role": "user",
      "parts": [
        {
          "content": "scan ./R/ for workflow annotations",
          "content_type": "text/plain"
        }
      ]
    }
  ],
  "session_id": "optional-session-id"
}
}
}

\section{Supported Operations}{

The agent understands natural language requests for:
\itemize{
\item \strong{scan}: "Scan ./R/ for PUT annotations"
\item \strong{diagram}: "Generate a diagram for ./R/"
\item \strong{auto}: "Auto-detect workflow from ./src/"
\item \strong{generate}: "Generate annotation suggestions for ./R/"
\item \strong{merge}: "Merge manual and auto annotations in ./R/"
\item \strong{help}: "Help with annotation syntax"
\item \strong{skills}: "What are your capabilities?"
}
}

\section{Testing}{

Test the server with curl:
\preformatted{
# Discover agents
curl http://localhost:8080/agents

# Execute a scan
curl -X POST http://localhost:8080/runs \\
  -H "Content-Type: application/json" \\
  -d '{"input": [{"role": "user", "parts": [{"content": "scan ./R/"}]}]}'
}
}

\examples{
\dontrun{
# Start ACP server on default port
putior_acp_server()

# Start on custom host/port
putior_acp_server(host = "0.0.0.0", port = 9000)
}

}
\seealso{
\code{\link{putior_acp_manifest}} for the agent definition,
\code{\link{putior_mcp_server}} for MCP (Model-to-tool) integration
}
